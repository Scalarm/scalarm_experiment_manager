#Attributes:
#“_id”: ObjectId
#“index”: integer
#“experiment_id” - ObjectId
#“to_sent” - bool
#“sent_at”: timestamp
#“is_done”: bool
#“done_at”: timestamp
#“run_index”: integer
#“arguments”: string - list of concatenated parameter ids
#“values”: string - list of concatenated parameter values
#“result”: JSON structure generated by simulation
module SimulationRunModule

  def create_new_simulation(simulation_id)
    simulation = generate_simulation_for(simulation_id)
    simulation.to_sent = false
    simulation.sent_at = Time.now
    Rails.logger.debug("Created simulation to save: #{simulation.inspect} --- #{simulation.save}")

    simulation
  end

end
